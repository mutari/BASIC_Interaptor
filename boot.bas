1 REM -------- MY STORY ---------
2 REM This prodject is made to puch the limits of MY basic compiler!
3 REM Created: 28 apr 2022
4 REM BY: Philip Johansson
5 REM
6 REM
7 REM
8 REM
9 REM
10 PRINT "My Idle game"
11 REM ------ SETUP -------
20 LET MONEY = 0
21 LET MONEY_STEP = 1
22 LET MONEY_STEP_PER_SEC = 100

99 REM ------ GOTO PATHS -------
100 LET HOME = 1000
101 LET EXIT = 100000001
102 LET SHOP = 2000
103 LET BUY = 4000
104 LET INIT_TIMER = 100000
105 LET TIMER = 100100
106 LET GAME_TICK = 102000

199 REM ------ SHOPS SETUP ------
200 ARRAY SHOPS, 2
201 LET NOS = 1
210 SHOPS[0][0] = "Granny's shop"
211 SHOPS[0][1] = 1
212 SHOPS[0][2] = 5
213 SHOPS[0][3] = 0

500 REM ------ INIT --------
510 GOSUB INIT_TIMER

999 REM ------ GAME --------
1000 GOSUB TIMER
1001 INPUT ":"; IN
1000 GOSUB TIMER
1010 IF IN == "" THEN MONEY = MONEY + MONEY_STEP
1020 IF IN == "print" THEN PRINT MONEY
1030 IF IN == "exit" THEN GOTO EXIT
1040 IF IN == "shop" THEN GOTO SHOP
1050 IF IN == "buy" THEN GOTO BUY

1500 GOTO HOME

1999 REM ------- SHOP -------
2000 PRINT "------- MUTARI's - SHOP -------"
2010 PRINT "- Your wallet: " + MONEY
2020 LET INDEX = 0
2030 PRINT INDEX + ": " + SHOPS[INDEX][0] + " / " + SHOPS[INDEX][2] + " points, increase ppk by: " + SHOPS[INDEX][1] + " (" + SHOPS[INDEX][3] + ")"
2099 INDEX = INDEX + 1
2100 IF INDEX < NOS THEN GOTO 2030
3000 GOTO HOME

3999 REM ------- BUY FROM SHOP -------
4000 INPUT "ID of shop item to by: "; ID
4010 IF ID == "" THEN GOTO HOME
4020 IF ID >= NOS THEN GOTO HOME
4030 IF MONEY < SHOPS[ID][2] THEN GOTO 5000
4040 MONEY = MONEY - SHOPS[ID][2]
4050 SHOPS[ID][3] = SHOPS[ID][3] + 1
4060 MONEY_STEP = MONEY_STEP + SHOPS[ID][1]
4500 GOTO HOME

4999 REM -------- ERROR BUYING ITEM ------
5000 PRINT "Not enough money"
5001 GOTO HOME



100000 REM ------- INIT GAME TIME ---------
100001 LOAD SEC
100010 LET LAST_TIME = SEC
100099 RETURN

100100 REM ------- GAME TIME ---------
100110 LOAD SEC
100120 LET DIFF = SEC - LAST_TIME
100130 IF DIFF == 0 THEN GOTO 100190
100140 FOR I = 0 TO DIFF
100150 GOSUB GAME_TICK
100160 NEXT I
100190 LAST_TIME = SEC
101000 RETURN

102000 REM -------- GAME TICK --------
102001 PRINT "tick"
102010 MONEY = MONEY + MONEY_STEP_PER_SEC
102999 RETURN



100000000 GOTO HOME
100000001 PRINT "BYE!!"